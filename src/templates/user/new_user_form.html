{% extends "base.html" %}

{% block title %}SwiM - User Details{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white dark:bg-gray-800 p-6 rounded-lg shadow">
  <form class="space-y-6" hx-target="#content" hx-swap="innerHTML"
    hx-post="/users{% if user_id is defined %}/{{ user_id }}{% endif %}">

    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Name</label>
      <input type="text" id="name" name="name" value="{% if user is defined %}{{ user.name }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Email</label>
      <input type="email" id="email" name="email" value="{% if user is defined %}{{ user.email }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="phone" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Phone</label>
      <input type="text" id="phone" name="phone" value="{% if user is defined %}{{ user.phone }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="date_of_birth" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Date of
        Birth</label>
      <input type="date" id="date_of_birth" name="date_of_birth"
        value="{% if user is defined %}{{ user.date_of_birth }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="age" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Age</label>
      <input type="number" id="age" name="age" value="{% if user is defined %}{{ user.age }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="address" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Address</label>
      <input type="text" id="address" name="address" value="{% if user is defined %}{{ user.address }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="cc" class="block text-sm font-medium text-gray-700 dark:text-gray-300">CC</label>
      <input type="text" id="cc" name="cc" value="{% if user is defined %}{{ user.cc }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div>
      <label for="nif" class="block text-sm font-medium text-gray-700 dark:text-gray-300">NIF</label>
      <input type="text" id="nif" name="nif" value="{% if user is defined %}{{ user.nif }}{% endif %}"
        class="mt-1 block w-full px-3 py-2 border rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700 dark:text-gray-100">
    </div>

    <div class="flex items-center space-x-3">
      <button type="submit" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
        Save
      </button>

      {% if user_id is defined %}
      <button type="button" class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 transition"
        hx-get="/users/{{ user_id }}">
        Cancel
      </button>
      {% endif %}

      {% if warning %}
      <p class="text-red-600 font-bold ml-2">{{ warning }}</p>
      {% endif %}
    </div>
  </form>
</div>
{% endblock %}